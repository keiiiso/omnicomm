<!DOCTYPE html>
<html>
<head>
    <%- include('./head'); %>
    <link rel="stylesheet" href="/stylesheets/call.css"/>
</head>

<body class="text-bg-dark">

<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="align-content-center">
        <%- include('./header'); %>
    </header>

    <button id="startup-button" class="btn btn-primary">Initialize</button>

    <main id="controls" class="flex-grow-1 d-flex">

        <section class="left-column" id="info">
            <h2>Your Device Info</h2>
            <div id="client-name"></div>
            <div id="output-selection" class="hide">
                <label>Ringtone Devices</label>
                <select id="ringtone-devices" multiple></select>
                <label>Speaker Devices</label>
                <select id="speaker-devices" multiple></select
                ><br/>
                <button id="get-devices" class="btn btn-secondary">Seeing "Unknown" devices?</button>
            </div>
        </section>
        <section class="center-column">
            <h2 class="instructions">Call</h2>
            <div id="call-controls" class="hide">
                <form>
                    <input id="phone-number" class="mb-3 form-control form-control-lg" type="text" placeholder="+15552221234"/>
                    <button id="button-call" class="btn btn-primary" type="submit">Call</button>
                </form>
                <button id="button-hangup-outgoing" class="hide">Hang Up</button>
                <div id="incoming-call" class="hide">
                    <h2>Incoming Call Controls</h2>
                    <p class="instructions">
                        Incoming Call from <span id="incoming-number"></span>
                    </p>
                    <button id="button-accept-incoming">Accept</button>
                    <button id="button-reject-incoming">Reject</button>
                    <button id="button-hangup-incoming" class="hide">Hangup</button>
                </div>
                <div id="volume-indicators" class="hide">
                    <label>Mic Volume</label>
                    <div id="input-volume"></div>
                    <br/><br/>
                    <label>Speaker Volume</label>
                    <div id="output-volume"></div>
                </div>
            </div>
        </section>
        <section class="right-column">
            <h2>Event Log</h2>
            <div class="hide" id="log"></div>
        </section>

    </main>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" src="/javascripts/twilio.min.js"></script>
<script src="/javascripts/call.js"></script>

</body>
</html>
